{"version":3,"sources":["components/Product.js","redux/constants/productConstants.js","Screens/HomeScreen.js","redux/actions/productActions.js","redux/constants/cartConstants.js","redux/actions/cartActions.js","Screens/ProductScreen.js","components/CartItem.js","Screens/CartScreen.js","components/Login.js","components/Navbar.js","components/Backdrop.js","components/SideDrawer.js","App.js","hooks/useLocalStorage.js","redux/store.js","redux/reducers/cartReducers.js","redux/reducers/productReducers.js","index.js"],"names":["Product","imageUrl","name","price","description","productId","className","src","alt","substring","to","GET_PRODUCTS_REQUEST","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_FAIL","GET_PRODUCT_DETAILS_REQUEST","GET_PRODUCT_DETAILS_SUCCESS","GET_PRODUCT_DETAILS_FAIL","GET_PRODUCT_DETAILS_RESET","HomeScreen","dispatch","useDispatch","getProducts","useSelector","state","products","loading","error","useEffect","a","type","actionTypes","axios","get","data","payload","response","message","map","product","_id","ADD_TO_CART","REMOVE_FROM_CART","addToCart","id","qty","getState","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","ProductScreen","match","history","useState","setQty","productDetails","getProductDetails","console","log","params","value","onChange","e","target","Array","keys","el","onClick","push","CartItem","item","qtyChangeHandler","removeHandler","CartScreen","removeFromCart","length","reduce","Number","toFixed","Login","onIdSubmit","setValue","Container","style","border","width","height","borderRadius","padding","Form","onSubmit","preventDefault","isValidPhoneNumber","Group","placeholder","undefined","defaultCountry","Button","Navbar","click","Backdrop","show","SideDrawer","sideDrawerClass","join","App","sideToggle","setSideToggle","key","initialValue","prefixedKey","jsonValue","getItem","parse","useLocalStorage","loginId","setLoginId","exact","path","component","reducer","combineReducers","action","existItem","find","filter","middleware","thunk","INIT_STATE","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8750e7bd.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Link} from 'react-router-dom'\r\nimport './Product.css'\r\n\r\nfunction Product({imageUrl, name, price, description, productId}) {\r\n return (\r\n  <div className = \"product\">\r\n   <img src= {imageUrl}  alt={name} />\r\n   <div className = \"product_info\">\r\n    <p className=\"info_name\">{name}</p>\r\n    <p className=\"info_description\">\r\n     {description.substring(0,100)}...\r\n    </p>\r\n    <p className=\"info_price\">${price}</p>\r\n    <Link to={`/product/${productId}`} className=\"info_button\">View</Link>\r\n   </div>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default Product\r\n","export const GET_PRODUCTS_REQUEST = \"GET_PRODUCTS_REQUEST\"\r\nexport const GET_PRODUCTS_SUCCESS = \"GET_PRODUCTS_SUCCESS\"\r\nexport const GET_PRODUCTS_FAIL = \"GET_PRODUCTS_FAIL\"\r\n\r\nexport const GET_PRODUCT_DETAILS_REQUEST = \"GET_PRODUCT_DETAILS_REQUEST\"\r\nexport const GET_PRODUCT_DETAILS_SUCCESS = \"GET_PRODUCT_DETAILS_SUCCESS\"\r\nexport const GET_PRODUCT_DETAILS_FAIL    = \"GET_PRODUCT_DETAILS_FAIL\"\r\nexport const GET_PRODUCT_DETAILS_RESET   = \"GET_PRODUCT_DETAILS_RESET\"","import React from 'react'\r\nimport './HomeScreen.css'\r\nimport Product from '../components/Product'\r\nimport {useEffect} from 'react'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {getProducts as listProducts} from '../redux/actions/productActions'\r\n\r\nfunction HomeScreen() {\r\n\r\n const dispatch = useDispatch()\r\n\r\n const getProducts = useSelector(state => state.getProducts)\r\n \r\n const {products, loading, error} = getProducts\r\n\r\n useEffect(() => {\r\n  dispatch(listProducts())\r\n }, [dispatch])\r\n\r\n return (\r\n  <div className=\"homescreen\">\r\n   <h2 className=\"homescreen_title\">Latest Products</h2>\r\n   <div className=\"homescreen_products\">\r\n   {loading ? (\r\n          <h2>Loading...</h2>\r\n        ) : error ? (\r\n          <h2>{error}</h2>\r\n        ) : (\r\n          products.map((product) => (\r\n            <Product\r\n            key={product._id}\r\n            name={product.name}\r\n            productId = {product._id}\r\n            description = {product.name}\r\n            price = {product.price}\r\n            imageUrl = {product.imageUrl}\r\n            />\r\n          ))\r\n        )}\r\n   </div>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default HomeScreen\r\n","import * as actionTypes from '../constants/productConstants'\r\nimport axios from 'axios'\r\n\r\nexport const getProducts = ()=> async(dispatch) => {\r\n try {\r\n  dispatch({type: actionTypes.GET_PRODUCTS_REQUEST})\r\n\r\n  const {data} = await axios.get(\"/api/products\")\r\n\r\n  dispatch({\r\n   type: actionTypes.GET_PRODUCTS_SUCCESS,\r\n   payload: data\r\n  })\r\n }catch(error) {\r\n  dispatch({\r\n   type: actionTypes.GET_PRODUCTS_FAIL,\r\n   payload: error.response && error.response.data.message ? error.response.data.message : error.message\r\n  })\r\n\r\n }\r\n} \r\n\r\nexport const getProductDetails = (id)=> async(dispatch) => {\r\n try {\r\n  dispatch({type: actionTypes.GET_PRODUCT_DETAILS_REQUEST})\r\n\r\n  const {data} = await axios.get(`/api/products/${id}`)\r\n  dispatch({\r\n   type: actionTypes.GET_PRODUCT_DETAILS_SUCCESS,\r\n   payload: data\r\n  })\r\n }catch(error) {\r\n  dispatch({\r\n   type: actionTypes.GET_PRODUCT_DETAILS_FAIL,\r\n   payload: error.response && error.response.data.message ? error.response.data.message : error.message\r\n  })\r\n\r\n }\r\n} \r\n\r\nexport const removeProductDetails = () => (dispatch) => {\r\n dispatch({\r\n  type: actionTypes.GET_PRODUCT_DETAILS_RESET\r\n })\r\n}","export const  ADD_TO_CART = \"ADD_TO_CART\"\r\nexport const  REMOVE_FROM_CART = \"REMOVE_FROM_CART\"\r\nexport const  CART_RESET = \"CART_RESET\"","import * as actionTypes from '../constants/cartConstants'\r\nimport axios from 'axios'\r\n\r\nexport const addToCart = (id, qty) => async(dispatch, getState) => {\r\n const {data} = await axios.get(`/api/products/${id}`)\r\n\r\n dispatch({\r\n  type: actionTypes.ADD_TO_CART,\r\n  payload: {\r\n   product: data._id,\r\n   name: data.name,\r\n   imageUrl: data.imageUrl,\r\n   price: data.price,\r\n   countInStock: data.countInStock,\r\n   qty\r\n\r\n  }\r\n })\r\n\r\n localStorage.setItem('cart', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch, getState) => {\r\n dispatch({\r\n  type: actionTypes.REMOVE_FROM_CART,\r\n  payload: id\r\n })\r\n localStorage.setItem('cart', JSON.stringify(getState().cart.cartItems))\r\n}\r\n\r\n","import React from 'react'\r\nimport './ProductScreen.css'\r\nimport {useState, useEffect} from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nimport {getProductDetails} from '../redux/actions/productActions'\r\nimport {addToCart} from '../redux/actions/cartActions'\r\n\r\nfunction ProductScreen({match, history}) {\r\n\r\n  const [qty, setQty] = useState(1)\r\n  const dispatch = useDispatch()\r\n\r\n  const productDetails = useSelector(state => state.getProductDetails)\r\n  console.log(productDetails);\r\n  const {loading, error, product } = productDetails\r\n  console.log(product);\r\n\r\n  useEffect(() => {\r\n    if(product && match.params.id !== product._id) {\r\n      dispatch(getProductDetails(match.params.id))\r\n    }\r\n  },[dispatch, product, match])\r\n\r\n  const addToCartHandler = () => {\r\n    dispatch(addToCart(product._id, qty))\r\n    history.push(\"/cart\")\r\n  }\r\n\r\nreturn (\r\n  <div className=\"productscreen\">\r\n    { loading ? <h2>Loading ...</h2> : error ? <h2>{error}</h2> \r\n    : \r\n    <>\r\n    <div className=\"productscreen_left\">\r\n      <div className=\"left_image\">\r\n        <img src={product.imageUrl} alt={product.name} />\r\n      </div>\r\n      <div className=\"left_info\">\r\n        <p className=\"left_name\"> {product.name}</p>\r\n        <p> Price: $ {product.price}</p>\r\n        <p > Description : {product.description} </p>\r\n      </div>\r\n    </div>\r\n    <div className=\"productscreen_right\">\r\n      <div className=\"right_info\">\r\n        <p>Price <span>${product.price}</span> </p>\r\n        <p>Status <span>{product.countInStock > 0 ? \"In Stock\" : \"Out of Stock\"}</span> </p>\r\n        <p>\r\n          Qty\r\n          <select value={qty} onChange={e => setQty(e.target.value)}>\r\n            {[...Array(product.countInStock).keys()].map(el => (\r\n              <option key={el+1} value={el+1}>{el+1}</option>\r\n            )\r\n            )}\r\n          </select>\r\n        </p>\r\n        <p>\r\n          <button type=\"button\" onClick={addToCartHandler}>Add to Cart</button>\r\n        </p>\r\n      </div>\r\n    </div>\r\n    </>}\r\n    \r\n  </div>\r\n)\r\n}\r\n\r\nexport default ProductScreen\r\n","import React from 'react'\r\nimport './CartItem.css'\r\nimport {Link} from 'react-router-dom'\r\n\r\nfunction CartItem({item, qtyChangeHandler, removeHandler}) {\r\n return (\r\n  <div className=\"cartitem\">\r\n   <div className=\"cart_image\">\r\n    <img src={item.imageUrl} alt={item.name}/>\r\n   </div>\r\n   <Link to={`/product/${item.product}`} className=\"cartitem_name\">\r\n    <p>{item.name}</p>\r\n   </Link>\r\n   <p className=\"cartitem_price\">${item.price}</p>\r\n   <select className=\"cartitem_select\" value={item.qty} onChange={(e) => qtyChangeHandler(item.product, e.target.value)}>\r\n    {[...Array(item.countInStock).keys()].map(el => (\r\n     <option key={el+1} value={el+1}>{el+1}</option>\r\n    ))}\r\n   </select>\r\n\r\n   <button className=\"cartitem_deleteBtn\" onClick={() => removeHandler(item.product)}>\r\n    <i className=\"fas fa-trash\" ></i> \r\n   </button>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default CartItem\r\n","import React from 'react'\r\nimport CartItem from '../components/CartItem'\r\nimport './CartScreen.css'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport {addToCart, removeFromCart} from '../redux/actions/cartActions'\r\n\r\nfunction CartScreen() {\r\n\r\n  const dispatch = useDispatch()\r\n  const cart = useSelector(state => state.cart)\r\n  const {cartItems} = cart\r\n\r\n  const qtyChangeHandler = (id, qty) => {\r\n    dispatch(addToCart(id, qty))\r\n  }\r\n\r\n\r\n  const removeHandler = (id) => {\r\n    dispatch(removeFromCart(id))\r\n  }\r\n\r\n  const getCartCount = () => {\r\n    return cartItems.reduce((qty, item) => Number(item.qty) + qty, 0)\r\n  }\r\n\r\n  const getCartSubTotal = () => {\r\n    return cartItems.reduce((price, item) => (item.price * item.qty) + price, 0)\r\n  }\r\n\r\n return (\r\n   <div className=\"cartscreen\">\r\n    <div className=\"cartscreen_left\">\r\n      <h2> Shopping Cart </h2>\r\n      {cartItems.length === 0 ? (\r\n        <div>\r\n          Your cart is empty <Link to=\"/\">Go Back</Link>\r\n        </div>\r\n      ):(\r\n        cartItems.map(item => (\r\n          <CartItem\r\n          key={item.product}\r\n          item={item}\r\n          qtyChangeHandler = {qtyChangeHandler}\r\n          removeHandler={removeHandler}\r\n           />\r\n        ))\r\n      )\r\n      }\r\n      \r\n    </div>\r\n    <div className=\"cartscreen_right\">\r\n      <div className=\"cartscreen_info\">\r\n        <p>Subtotal ({getCartCount()}) items</p>\r\n        <p>${getCartSubTotal().toFixed(2)}</p>\r\n      </div>\r\n      <div>\r\n        <button>Proceed to Checkout</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default CartScreen\r\n","import React, { useState} from 'react'\r\nimport { Container, Form, Button} from 'react-bootstrap'\r\nimport './Login.css'\r\n\r\n\r\n\r\nimport PhoneInput, { isValidPhoneNumber } from 'react-phone-number-input'\r\nimport 'react-phone-number-input/style.css'\r\n// import login from '../login.jpg'\r\n\r\n\r\nexport default function Login({ onIdSubmit}) {\r\n\r\n\r\n const [value, setValue] = useState()\r\n\r\n const handleSubmit = (e) => {\r\n  e.preventDefault()\r\n\r\n  if(isValidPhoneNumber(value) ) {\r\n   onIdSubmit(value)\r\n  }else {\r\n   setValue()\r\n  }\r\n   \r\n }\r\n \r\n\r\n return (\r\n  <Container className = \" d-flex align-items-center \" style={{ border: '3px solid red',width: '50%', height: '100px', borderRadius: '10px', padding:'10px'}}>\r\n   <Form onSubmit={handleSubmit} className=\"w-100   p-5 rounded-3 \" >\r\n    <Form.Group>\r\n     \r\n\r\n     <PhoneInput\r\n      placeholder={ value ? (isValidPhoneNumber(value) ? undefined : \"Enter Valid Phone Number\") : 'Enter Phone Number' }\r\n      defaultCountry='CA'\r\n      className=\"form-control\"\r\n      value={value}\r\n      onChange={setValue}\r\n      error={value ? (isValidPhoneNumber(value) ? undefined : 'Invalid phone number') : 'Phone number required'}\r\n      />\r\n\r\n    </Form.Group>\r\n    \r\n    <Button type=\"submit\" className=\"m-5 \">LOGIN</Button>\r\n    \r\n   </Form>\r\n   \r\n  </Container>\r\n )\r\n}\r\n","import React from 'react'\r\nimport './Navbar.css'\r\nimport {Link} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\n\r\nexport default function Navbar({click}) {\r\n \r\n const cart = useSelector(state => state.cart)\r\n const {cartItems} = cart\r\n const getCartCount = () => {\r\n  return cartItems.reduce((qty, item) => qty + Number(item.qty) , 0)\r\n }\r\n\r\n\r\n return (\r\n  <nav className=\"navbar\">\r\n   {/* logo */}\r\n   <div className=\"navbar_logo\">\r\n    <h2>RV Ecommerce Tech Shop</h2>\r\n   </div>\r\n   {/* links */}\r\n   <ul className=\"navbar_links\">\r\n    <li>\r\n     <Link to=\"/cart\" className=\"cart__link\">\r\n      {/* Icon */}\r\n      <i className=\"fas fa-shopping-cart\"></i>\r\n      <span>\r\n       Cart\r\n       <span className=\"cartlogo_badge\">{getCartCount()}</span>\r\n      </span>\r\n      \r\n     </Link>\r\n    </li>\r\n    <li>\r\n     <Link to=\"/\">\r\n      Shop\r\n     </Link>\r\n    </li>\r\n   </ul>\r\n   {/* hamburger menu */}\r\n   <div className=\"hamburger_menu\"  onClick={click}>\r\n    <div></div>\r\n    <div></div>\r\n    <div></div>\r\n   </div>\r\n   \r\n  </nav>\r\n )\r\n}\r\n","import React from 'react'\r\nimport './Backdrop.css'\r\n\r\nfunction Backdrop({show, click}) {\r\n return show && <div className=\"backdrop\" onClick={click}> </div>\r\n \r\n}\r\n\r\nexport default Backdrop\r\n","import React from 'react'\r\nimport './SideDrawer.css'\r\nimport {Link} from 'react-router-dom'\r\nimport {useSelector} from 'react-redux'\r\n\r\nfunction SideDrawer({show, click}) {\r\n const sideDrawerClass = [\"sidedrawer\"] \r\n\r\n\r\n if(show) {\r\n  sideDrawerClass.push(\"show\")\r\n }\r\n\r\n const cart = useSelector(state => state.cart)\r\n const {cartItems} = cart\r\n const getCartCount = () => {\r\n  return cartItems.reduce((qty, item) => qty + Number(item.qty) , 0)\r\n }\r\n\r\n return (\r\n  <div className={sideDrawerClass.join(\" \")}>\r\n   <ul className=\"sidedrawer_links\" onClick={click}>\r\n    <li>\r\n     <Link to=\"/cart\">\r\n     <i className=\"fas fa-shopping-cart\"></i>\r\n     <span>\r\n      Cart <span className=\"sideDrawer_cartbadge\">{getCartCount()}</span>\r\n     </span>\r\n     </Link>\r\n    </li>\r\n     <li>\r\n     <Link  to=\"/\">\r\n      Shop\r\n     </Link>\r\n    </li>\r\n   </ul>\r\n  </div>\r\n )\r\n}\r\n\r\nexport default SideDrawer\r\n","import './App.css';\nimport {useState} from 'react'\nimport {BrowserRouter as Router, Switch, Route } from 'react-router-dom'\n\n//Screens\nimport HomeScreen from './Screens/HomeScreen';\nimport ProductScreen from './Screens/ProductScreen';\nimport CartScreen from './Screens/CartScreen';\n\n\nimport useLocalStorage from './hooks/useLocalStorage';\nimport Login from './components/Login';\n\n//Components\nimport Navbar from './components/Navbar';\nimport Backdrop from './components/Backdrop';\nimport SideDrawer from './components/SideDrawer';\n\nfunction App() {\n  const [sideToggle, setSideToggle] = useState(false)\n  const [loginId, setLoginId] = useLocalStorage('id')\n  return (\n\n    loginId ? <Router>\n      {/* Navbar */}\n      <Navbar click={() => setSideToggle(!sideToggle)}/>\n      {/* SideDrawer */}\n      <SideDrawer  show={sideToggle} click={() => setSideToggle(false)}/>\n      {/* BackDrop */}\n      <Backdrop show={sideToggle} click={() => setSideToggle(false)}/>\n      <main>\n        <Switch>\n          <Route exact path =\"/\" component={HomeScreen}/>\n          <Route exact path=\"/product/:id\" component={ProductScreen} />\n          <Route exact path=\"/cart\" component={CartScreen} />\n        </Switch>\n      </main>\n      {/* HomeScreen */}\n      {/* ProductScreen */}\n      {/* CartScreen */}\n    </Router> : \n    <Login onIdSubmit={setLoginId} /> \n    \n    \n  );\n}\n\nexport default App;\n","import {useState, useEffect} from 'react'\r\n\r\nconst PREFIX = 'shoppingCart-'\r\n\r\nexport default function useLocalStorage(key, initialValue) {\r\n const prefixedKey = PREFIX + key\r\n const [ value, setValue] = useState(() => {\r\n  const jsonValue = localStorage.getItem(prefixedKey)\r\n  if( jsonValue !== 'undefined' && jsonValue !== null ) return JSON.parse(jsonValue)\r\n  if (typeof initialValue === 'function') {\r\n   return initialValue()\r\n} else {\r\n return initialValue\r\n}\r\n })\r\n\r\n useEffect(()=>{\r\n  localStorage.setItem(prefixedKey, JSON.stringify(value))\r\n }, [prefixedKey, value])\r\n\r\n return [value, setValue]\r\n\r\n}\r\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\nimport {composeWithDevTools} from 'redux-devtools-extension'\r\n\r\nimport {cartReducer} from './reducers/cartReducers'\r\nimport {getProductsReducer, getProductDetailsReducer} from './reducers/productReducers'\r\n\r\nconst reducer = combineReducers({\r\n cart : cartReducer,\r\n getProducts: getProductsReducer,\r\n getProductDetails: getProductDetailsReducer\r\n})\r\n\r\nconst middleware = [thunk]\r\n\r\nconst cartFromLocalStorage = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")) : []\r\n\r\nconst INIT_STATE = {\r\n cart: {\r\n  cartItems: cartFromLocalStorage\r\n }\r\n}\r\n \r\n\r\n\r\nconst store = createStore(\r\n reducer,\r\n INIT_STATE,\r\n composeWithDevTools(applyMiddleware(...middleware))\r\n)\r\n\r\nexport default store","import * as actionTypes from '../constants/cartConstants'\r\n\r\nexport const cartReducer = (state = {cartItems: []}, action) => {\r\n switch (action.type) {\r\n  case actionTypes.ADD_TO_CART:\r\n   const item = action.payload\r\n   const existItem = state.cartItems.find(el=> el.product === item.product)\r\n\r\n   if(existItem) {\r\n    return {\r\n     ...state,\r\n     cartItems : state.cartItems.map(el => el.product === existItem.product ? item : el)\r\n    }\r\n   }\r\n   else {\r\n    return {\r\n     ...state,\r\n     cartItems: [...state.cartItems, item]\r\n    }\r\n   }\r\n   \r\n   case actionTypes.REMOVE_FROM_CART:\r\n    return {\r\n     ...state,\r\n     cartItems: state.cartItems.filter( el => el.product !== action.payload )\r\n    }\r\n   \r\n  default:\r\n   return state\r\n }\r\n}","import * as actionTypes from '../constants/productConstants'\r\n\r\nexport const getProductsReducer =  (state = {products: []}, action) => {\r\n switch (action.type) {\r\n    case actionTypes.GET_PRODUCTS_REQUEST:\r\n      return {\r\n        loading: true,\r\n        products: [],\r\n      };\r\n    case actionTypes.GET_PRODUCTS_SUCCESS:\r\n      return {\r\n        products: action.payload,\r\n        loading: false,\r\n      };\r\n    case actionTypes.GET_PRODUCTS_FAIL:\r\n      return {\r\n        loading: false,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      return state\r\n }\r\n}\r\n\r\nexport const getProductDetailsReducer = (state = {product: {}}, action) => {\r\n switch (action.type) {\r\n  case actionTypes.GET_PRODUCT_DETAILS_REQUEST:\r\n   return {\r\n    loading: true\r\n   }\r\n  case actionTypes.GET_PRODUCT_DETAILS_SUCCESS:\r\n   return {\r\n    loading: false,\r\n    product: action.payload\r\n   }\r\n   case actionTypes.GET_PRODUCT_DETAILS_FAIL:\r\n    return {\r\n     loading: false,\r\n     error: action.payload\r\n    }\r\n   case actionTypes.GET_PRODUCT_DETAILS_RESET:\r\n    return {\r\n     product: {}\r\n    }\r\n \r\n  default:\r\n   return state\r\n }\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {Provider} from 'react-redux'\nimport store from './redux/store'\n\n\nReactDOM.render(\n<Provider store={store}>\n <App />\n</Provider>,\n document.getElementById('root')\n );\n\n"],"sourceRoot":""}